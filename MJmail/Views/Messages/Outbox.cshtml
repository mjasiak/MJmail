@using System.Globalization
@model List<MJmail.Models.Message>

@{
    ViewBag.Title = "Outbox";
}


<div class="row fit-size-toscreen">
    <div class="col-xs-12 col-md-12 fit-size-toscreen boxes">
        <h1>Outbox</h1>
        <table class="table table-striped">
            <tbody>
                @foreach (var item in Model)
                {
                    <tr id="@item.ID">
                        
                        @if (item.MailToName != null)
                        {
                            <td>
                                @Html.DisplayFor(modelItem => item.MailToName)
                            </td>
                        }
                        else
                        {
                            <td>
                                @Html.DisplayFor(modelItem => item.MailTo)
                            </td>
                        }  
                        <td>
                            @Html.DisplayFor(modelItem => item.MailTitle)
                        </td>                    

                                @if (DateTime.Now.Date == item.MailDate.Date)
                                {
                                   <td class="right-align">Today,  @item.MailDate.ToShortTimeString()</td>
                                }
                                else if (DateTime.Now.Date.AddDays(-1) == item.MailDate.Date)
                                {
                                    <td class="right-align">Yesterday,  @item.MailDate.ToShortTimeString()</td>
                                }
                                else
                                {
                                    <td class="right-align">@item.MailDate.ToString("dd MMM", new CultureInfo("en-US"))</td>
                                }                           
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div id="ajaxTarget" class="col-xs-6 col-md-6 fit-size-toscreen nopadding">
    </div>
</div>


        